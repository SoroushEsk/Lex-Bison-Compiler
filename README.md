# Lex Bison Compiler

This project implements a simple compiler for parsing arithmetic expressions and generating intermediate code. It consists of a lexical analyzer, a parser, and an intermediate code generator.
This project aims to design a compiler that reads a mathematical expression and, while generating three-address code in C language, calculates the result of the expression.

- The expression includes integers (up to 10 digits), arithmetic operators such as addition, subtraction, multiplication, and division, as well as parentheses and spaces. Each operator behaves as follows:
  - b+a: Digits from number b that are not in number a are appended to the end of a.
  - b-a: Digits from number b that are in number a are removed from a.
  - b*a: The digit obtained by adding digits (or sum of digits) of number b is appended to the end of a if it does not exist in a.
  - b/a: The digit obtained by adding digits (or sum of digits) of number b is removed from a if it exists in a.
  - The precedence of operators and their associativity is as usual.

## Project Structure

The project is organized into the following files:

- `lexicalPhase.l`: Lex file defining regular expressions and translation rules for tokenizing the input source code.
- `syntaxAna.y`: Bison file containing grammar rules and semantic actions for parsing the tokens and constructing a syntax tree.
- `lexPhase.c`: C file implementing the intermediate code generator and auxiliary functions for arithmetic operations.
- `lexPhase.h`: Header file containing macro definitions, function prototypes, and include statements.

## Struggles and Resolutions

### NUM_TOKEN Macro Issue

I encountered a compilation error related to the `NUM_TOKEN` macro in `lexPhase.h`. The issue was resolved by ensuring the proper macro definition in the header file.

### Type Mismatch in `yylval`

There were type mismatch issues in the Lex file (`lexicalPhase.l`) related to the assignment to `yylval`. These were addressed by modifying the assignment based on the `%union` definition in the Bison file (`syntaxAna.y`).

### Undefined Reference to `yylval`

To resolve the "undefined reference to `yylval`" error, I ensured that the Bison-generated header file (`syntaxAna.tab.h`) was included in the Lex file.

## Compilation

To compile the project, follow these steps:

1. Execute Flex to generate `lex.yy.c` from `lexicalPhase.l`:
   ```bash
   flex lexicalPhase.l

2. Execute Bison to generate `syntaxAna.tab.c` and `syntaxAna.tab.h` from `syntaxAna.y`:
   ```bash
   bison -d syntaxAna.y
   ```

3. Compile the C source files using GCC:
   ```bash
   gcc lexPhase.c lex.yy.c syntaxAna.tab.c -o my_compiler
   ```

4. Run the compiled executable:
   ```bash
   ./my_compiler
   ```
Certainly! You can add a section to your README.md file to showcase sample input-output pairs generated by your compiler. Here's an example:



## Sample Input and Output

### Example 1

**Input:**
```plaintext
34276524+781=
```

**Output:**
```plaintext
t1 = 34276524+781;
t1 = 3427652481;
```

### Example 2

**Input:**
```plaintext
342765- 7661 =
```

**Output:**
```plaintext
t1 = 342765-7661;
t1 = 3425;
```
### Example 3

**Input:**
```plaintext
3142752 *782=
```

**Output:**
```plaintext
t1 = 3142752*781;
t1 = 31427528;
```
### Example 4

**Input:**
```plaintext
34276+342 *34 - 734/(25 +44) =
```

**Output:**
```plaintext
t1 = 342 * 34;
t1 = 3427;
t2 = 34276 + t1;
t2 = 34276;
t3 = 25 + 44;
t3 = 2544;
t4 = 734 / t3;
t4 = 734;
t5 = t2 - t4;
t5 = 26;
```

## Recommendations and Future Work

- **Error Handling:** Implement a more robust error-handling mechanism to provide informative error messages during compilation.

- **Optimizations:** Explore opportunities for optimization in intermediate code generation.

- **Code Refactoring:** Consider refactoring code for better modularity and maintainability.

## Conclusion

This simple compiler successfully parses arithmetic expressions, generates intermediate code, and handles basic arithmetic operations. The struggles faced during development were addressed, and the project demonstrates the use of Lex and Bison tools for lexical and syntactical analysis.
